module.exports=[62686,a=>{"use strict";let b=(0,a.i(60010).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);a.s(["TrendingDown",()=>b],62686)},43141,a=>{"use strict";var b=a.i(37580),c=a.i(29104),d=a.i(7416),e=a.i(313),f=a.i(62686),g=a.i(99990),h=a.i(17960),i=a.i(60010);let j=(0,i.default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var k=a.i(96695),l=a.i(63460),m=a.i(56003),n=a.i(47834),o=a.i(91825),p=a.i(46022);let q=(0,i.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var r=a.i(76593),s=a.i(20536);function t(){let[a,d]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1);(0,c.useEffect)(()=>{k()},[]);let k=async()=>{try{let a=localStorage.getItem("token"),b=await fetch("http://localhost:4000/api/v1/portfolio/rebalancing-status",{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();c.success&&d(c.data)}catch(a){console.error("Fetch rebalancing status error:",a)}finally{h(!1)}};return g||i||!a||!a.needsRebalancing?null:(0,b.jsx)("div",{className:"bg-gradient-to-r from-yellow-500/10 to-orange-500/10 border border-yellow-500/20 rounded-xl p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(q,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-text-primary",children:"Portfolio Rebalancing Needed"}),(0,b.jsxs)("p",{className:"text-sm text-text-secondary mt-1",children:["Your portfolio has drifted ",a.maxDrift,"% from your target allocation"]})]}),(0,b.jsx)("button",{onClick:()=>j(!0),className:"p-1 hover:bg-surface-dark/50 rounded-lg transition",children:(0,b.jsx)(r.X,{className:"w-4 h-4 text-text-secondary"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[(0,b.jsxs)("div",{className:"bg-surface-dark/50 rounded-lg p-2",children:[(0,b.jsx)("p",{className:"text-xs text-text-secondary mb-1",children:"Nigerian"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-semibold text-text-primary",children:[a.currentAllocation?.nigerian?.toFixed(1),"%"]}),(0,b.jsxs)("span",{className:"text-xs text-text-tertiary",children:["→ ",a.targetAllocation?.nigerian?.toFixed(1),"%"]})]})]}),(0,b.jsxs)("div",{className:"bg-surface-dark/50 rounded-lg p-2",children:[(0,b.jsx)("p",{className:"text-xs text-text-secondary mb-1",children:"DeFi"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-semibold text-text-primary",children:[a.currentAllocation?.defi?.toFixed(1),"%"]}),(0,b.jsxs)("span",{className:"text-xs text-text-tertiary",children:["→ ",a.targetAllocation?.defi?.toFixed(1),"%"]})]})]}),(0,b.jsxs)("div",{className:"bg-surface-dark/50 rounded-lg p-2",children:[(0,b.jsx)("p",{className:"text-xs text-text-secondary mb-1",children:"US"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-semibold text-text-primary",children:[a.currentAllocation?.us?.toFixed(1),"%"]}),(0,b.jsxs)("span",{className:"text-xs text-text-tertiary",children:["→ ",a.targetAllocation?.us?.toFixed(1),"%"]})]})]})]}),a.suggestions&&a.suggestions.length>0&&(0,b.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-text-primary",children:"Suggested Actions:"}),a.suggestions.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm bg-surface-dark/30 rounded-lg p-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["BUY"===a.action?(0,b.jsx)(e.TrendingUp,{className:"w-4 h-4 text-green-500"}):(0,b.jsx)(f.TrendingDown,{className:"w-4 h-4 text-red-500"}),(0,b.jsxs)("span",{className:"text-text-primary",children:[a.action," ",a.category]})]}),(0,b.jsxs)("span",{className:"font-semibold text-text-primary",children:["$",a.amount]})]},c))]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(s.default,{href:"/smart-split",className:"flex-1 bg-primary hover:bg-primary-dark text-white text-sm font-semibold py-2 rounded-lg text-center transition",children:"Review Allocation"}),(0,b.jsx)("button",{onClick:()=>j(!0),className:"px-4 bg-surface-dark hover:bg-surface-dark/80 text-text-primary text-sm font-semibold rounded-lg transition",children:"Dismiss"})]})]})]})})}var u=a.i(44127);function v(){let a=(0,d.useRouter)(),{isAuthenticated:i}=(0,k.useAuthStore)(),{balance:q,blockchainBalance:r,platformBalance:v,fetchBalance:w}=(0,m.useWalletStore)(),{portfolio:x,isLoading:y,fetchPortfolio:z}=(0,l.usePortfolioStore)(),[A,B]=(0,c.useState)("all"),[C,D]=(0,c.useState)(!1);(0,c.useEffect)(()=>{D(!0)},[]),(0,c.useEffect)(()=>{if(C){if(!i)return void a.push("/login");z(),w()}},[C,i,a]);let E=x?.holdings||[],F=x?.overview?.totalCurrentValue||0;x?.overview?.totalPortfolioValue;let G=x?.overview?.totalGainLoss||0,H=x?.overview?.totalGainLossPercent||0,I=x?.overview?.cashBalance?.total||0,J=E.filter(a=>"all"===A||("stocks"===A?"STOCK_US"===a.assetType||"STOCK_NGN"===a.assetType:"yields"!==A||"DEFI"===a.assetType||"YIELD"===a.assetType)),K=E.filter(a=>"STOCK_US"===a.assetType||"STOCK_NGN"===a.assetType),L=E.filter(a=>"DEFI"===a.assetType||"YIELD"===a.assetType);return(0,b.jsxs)("div",{className:"min-h-screen bg-black pb-20",children:[(0,b.jsx)(n.default,{title:"Portfolio",subtitle:"Track your investments"}),(0,b.jsxs)("main",{className:"p-4 space-y-6",children:[(0,b.jsx)(t,{}),(0,b.jsxs)(p.default,{className:"p-6",children:[(0,b.jsx)("p",{className:"text-sm text-text-secondary mb-2",children:"Investments Value"}),(0,b.jsx)("h1",{className:"text-5xl font-bold mb-4",children:(0,u.formatCurrency)(F)}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[G>=0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.TrendingUp,{className:"w-5 h-5 text-accent-green"}),(0,b.jsxs)("span",{className:"text-accent-green font-semibold",children:["+",(0,u.formatCurrency)(Math.abs(G))," (",H.toFixed(2),"%)"]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.TrendingDown,{className:"w-5 h-5 text-accent-red"}),(0,b.jsxs)("span",{className:"text-accent-red font-semibold",children:["-",(0,u.formatCurrency)(Math.abs(G))," (",H.toFixed(2),"%)"]})]}),(0,b.jsx)("span",{className:"text-text-tertiary text-sm",children:"All Time"})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-white/10 mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("p",{className:"text-sm text-text-secondary",children:"Available Cash"}),(0,b.jsx)("p",{className:"text-xl font-semibold text-accent-green",children:(0,u.formatCurrency)(I)})]}),(0,b.jsx)("p",{className:"text-xs text-text-tertiary mt-1",children:"Ready to invest"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>B("all"),className:`px-4 py-2 rounded-xl font-semibold transition-all ${"all"===A?"bg-primary text-black":"bg-background-hover text-text-secondary"}`,children:["All (",E.length,")"]}),(0,b.jsxs)("button",{onClick:()=>B("stocks"),className:`px-4 py-2 rounded-xl font-semibold transition-all ${"stocks"===A?"bg-primary text-black":"bg-background-hover text-text-secondary"}`,children:["Stocks (",K.length,")"]}),(0,b.jsxs)("button",{onClick:()=>B("yields"),className:`px-4 py-2 rounded-xl font-semibold transition-all ${"yields"===A?"bg-primary text-black":"bg-background-hover text-text-secondary"}`,children:["Yields (",L.length,")"]})]}),y?(0,b.jsx)(p.default,{className:"p-6",children:(0,b.jsx)("p",{className:"text-text-secondary text-center",children:"Loading portfolio..."})}):J.length>0?(0,b.jsx)("div",{className:"space-y-3",children:J.map((a,c)=>{let d=a.currentPrice*a.quantity,i=(a.currentPrice-a.averagePrice)*a.quantity,j=(a.currentPrice-a.averagePrice)/a.averagePrice*100,k=i>=0,l=a.assetType||a.type,m="DEFI"===l||"YIELD"===l||"yield"===l;return(0,b.jsx)(s.default,{href:"STOCK_US"===l||"STOCK_NGN"===l||"stock"===l?`/stocks/${a.symbol}`:`/yield/${a.symbol.toLowerCase()}`,children:(0,b.jsx)(p.default,{hover:!0,className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${m?"bg-accent-green/10":"bg-accent-blue/10"}`,children:m?(0,b.jsx)(g.Sparkles,{className:"w-6 h-6 text-accent-green"}):(0,b.jsx)(h.DollarSign,{className:"w-6 h-6 text-accent-blue"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.symbol}),(0,b.jsxs)("p",{className:"text-sm text-text-secondary",children:[a.quantity.toFixed(2)," ",m?"USDC":"shares"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-semibold",children:(0,u.formatCurrency)(d)}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[k?(0,b.jsx)(e.TrendingUp,{className:"w-4 h-4 text-accent-green"}):(0,b.jsx)(f.TrendingDown,{className:"w-4 h-4 text-accent-red"}),(0,b.jsxs)("span",{className:`text-sm font-medium ${k?"text-accent-green":"text-accent-red"}`,children:[k?"+":"",j.toFixed(2),"%"]})]})]})]})})},c)})}):(0,b.jsxs)(p.default,{className:"p-8 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-background-hover flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(j,{className:"w-8 h-8 text-text-secondary"})}),(0,b.jsx)("p",{className:"text-text-secondary mb-2",children:"No investments yet"}),(0,b.jsx)("p",{className:"text-sm text-text-tertiary mb-6",children:"Start building your portfolio by investing in stocks or yield opportunities"}),(0,b.jsx)("div",{className:"flex gap-3 justify-center",children:(0,b.jsx)(s.default,{href:"/trade",children:(0,b.jsx)("button",{className:"px-6 py-2 bg-primary hover:bg-primary-hover text-black font-semibold rounded-xl transition-all",children:"Explore Investments"})})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)(s.default,{href:"/wallet",children:(0,b.jsxs)(p.default,{hover:!0,className:"p-4 text-center cursor-pointer",children:[(0,b.jsx)(h.DollarSign,{className:"w-8 h-8 text-primary mx-auto mb-2"}),(0,b.jsx)("p",{className:"font-semibold",children:"Add Funds"}),(0,b.jsx)("p",{className:"text-xs text-text-secondary",children:"Deposit to wallet"})]})}),(0,b.jsx)(s.default,{href:"/trade",children:(0,b.jsxs)(p.default,{hover:!0,className:"p-4 text-center cursor-pointer",children:[(0,b.jsx)(e.TrendingUp,{className:"w-8 h-8 text-accent-green mx-auto mb-2"}),(0,b.jsx)("p",{className:"font-semibold",children:"Discover"}),(0,b.jsx)("p",{className:"text-xs text-text-secondary",children:"Find investments"})]})})]})]}),(0,b.jsx)(o.default,{})]})}a.s(["default",()=>v],43141)}];

//# sourceMappingURL=stacka-project_stacka_5bed27db._.js.map