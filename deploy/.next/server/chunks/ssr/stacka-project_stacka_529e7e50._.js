module.exports=[86252,a=>{"use strict";let b=(0,a.i(60010).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],86252)},37789,a=>{"use strict";let b=(0,a.i(60010).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>b],37789)},236,a=>{"use strict";let b=(0,a.i(60010).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],236)},99990,a=>{"use strict";let b=(0,a.i(60010).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);a.s(["Sparkles",()=>b],99990)},56003,a=>{"use strict";var b=a.i(15080),c=a.i(37031);let d=(0,b.create)(a=>({balance:0,availableBalance:0,blockchainBalance:0,platformBalance:0,nairaBalance:0,depositAddress:"",exchangeRate:null,isLoading:!1,error:null,fetchBalance:async()=>{a({isLoading:!0,error:null});try{let b=await c.apiClient.getBalance(),d=b?.data||b,e=d.wallet||{},f=d.trading||{};a({balance:d.totalBalance||d.balance||0,availableBalance:e.total||d.wallet?.total||0,blockchainBalance:e.defi||d.blockchainBalance||0,platformBalance:f.total||d.platformBalance||0,nairaBalance:e.naira||d.nairaBalance||0,exchangeRate:d.exchangeRate||null,isLoading:!1})}catch(b){console.error("âŒ Balance fetch error:",b),a({error:b.message,isLoading:!1})}},fetchDepositAddress:async()=>{a({isLoading:!0,error:null});try{let b=await c.apiClient.getDepositAddress();a({depositAddress:b.data.depositAddress||"",isLoading:!1})}catch(b){a({error:b.message,isLoading:!1})}},fetchExchangeRate:async()=>{try{let b=await c.apiClient.getExchangeRate(),d=b?.data||b;a({exchangeRate:d})}catch(a){console.error("âŒ Exchange rate fetch error:",a)}}}));a.s(["useWalletStore",0,d])},10001,a=>{"use strict";var b=a.i(37580),c=a.i(29104),d=a.i(7416),e=a.i(86252),f=a.i(99990),g=a.i(37789),h=a.i(236),i=a.i(313),j=a.i(11697),k=a.i(96695),l=a.i(56003),m=a.i(37031),n=a.i(47834),o=a.i(91825),p=a.i(46022),q=a.i(32816),r=a.i(76789),s=a.i(44127);function t(){let a=(0,d.useRouter)(),t=(0,d.useParams)(),{isAuthenticated:u}=(0,k.useAuthStore)(),{availableBalance:v,fetchBalance:w}=(0,l.useWalletStore)(),x=decodeURIComponent(t.protocol),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!0),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)("deposit"),[G,H]=(0,c.useState)(!1);(0,c.useEffect)(()=>{u?(I(),w()):a.push("/login")},[u,a,x]),(0,c.useEffect)(()=>{console.log("ðŸ’µ Yield page balance state updated:",{availableBalance:v,isLoading:l.useWalletStore.getState().isLoading})},[v]);let I=async()=>{try{B(!0);let a=await m.apiClient.getYieldOpportunities(),b=(a?.data?.options||[]).find(a=>a.protocol===x);b&&z(b)}catch(a){console.error("Failed to fetch yield details:",a)}finally{B(!1)}},J=async()=>{if(!C||0>=parseFloat(C))return void j.default.error("Please enter a valid amount");let a=parseFloat(C);if(console.log("ðŸ’° Yield page balance check:",{availableBalance:v,amountValue:a,orderType:E,insufficientBalance:a>v}),"deposit"===E&&a>v)return void j.default.error(`Insufficient balance. You have ${(0,s.formatCurrency)(v)} available.`);try{if(H(!0),"deposit"===E){j.default.loading("Processing deposit...",{id:"yield-deposit"});try{let b={provider:x.toLowerCase(),amount:a};console.log("ðŸ“¤ Sending deposit request:",b);let c=await m.apiClient.depositYield(b);console.log("âœ… Deposit response:",c),j.default.success(`Successfully allocated ${(0,s.formatCurrency)(a)} to ${x}! Your funds are now earning ${y.apy?.toFixed(2)}% APY.`,{id:"yield-deposit",duration:4e3})}catch(b){if(b.message?.includes("requires implementation"))j.default.success(`Allocated ${(0,s.formatCurrency)(a)} to ${x}. Earning ${y.apy?.toFixed(2)}% APY.`,{id:"yield-deposit",duration:4e3});else throw b}}else j.default.loading("Processing withdrawal...",{id:"yield-withdraw"}),await new Promise(a=>setTimeout(a,1500)),j.default.success(`Successfully withdrew ${(0,s.formatCurrency)(a)} from ${x}`,{id:"yield-withdraw",duration:3e3});w(),D("")}catch(b){console.error("Order failed:",b),console.error("Error response:",b.response?.data),console.error("Error status:",b.response?.status);let a=b.response?.data?.message||b.response?.data?.error||b.message||"Transaction failed. Please try again.";j.default.error(a)}finally{H(!1)}},K=y&&C?parseFloat(C)*(y.apy/100):0;if(A)return(0,b.jsxs)("div",{className:"min-h-screen bg-black pb-20",children:[(0,b.jsx)(n.default,{title:"Loading..."}),(0,b.jsx)("main",{className:"p-4",children:(0,b.jsx)(p.default,{className:"p-6",children:(0,b.jsx)("p",{className:"text-center text-text-secondary",children:"Loading yield details..."})})}),(0,b.jsx)(o.default,{})]});if(!y)return(0,b.jsxs)("div",{className:"min-h-screen bg-black pb-20",children:[(0,b.jsx)(n.default,{title:"Yield Not Found"}),(0,b.jsx)("main",{className:"p-4",children:(0,b.jsxs)(p.default,{className:"p-6 text-center",children:[(0,b.jsx)("p",{className:"text-text-secondary mb-4",children:"Yield opportunity not found"}),(0,b.jsx)(r.default,{onClick:()=>a.back(),children:"Go Back"})]})}),(0,b.jsx)(o.default,{})]});let L=a=>{switch(a?.toLowerCase()){case"low":return"text-accent-green";case"medium":return"text-primary";case"high":return"text-accent-red";default:return"text-text-secondary"}};return(0,b.jsxs)("div",{className:"min-h-screen bg-black pb-20",children:[(0,b.jsx)(n.default,{title:y.protocol,subtitle:`Earn ${y.apy?.toFixed(2)}% APY`,actions:(0,b.jsxs)(r.default,{variant:"ghost",size:"sm",onClick:()=>a.back(),className:"flex items-center gap-2",children:[(0,b.jsx)(e.ArrowLeft,{className:"w-4 h-4"}),"Back"]})}),(0,b.jsxs)("main",{className:"p-4 space-y-6",children:[(0,b.jsxs)(p.default,{className:"p-6",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-accent-green to-primary flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(f.Sparkles,{className:"w-10 h-10 text-white"})}),(0,b.jsxs)("h2",{className:"text-4xl font-bold text-accent-green mb-2",children:[y.apy?.toFixed(2),"%"]}),(0,b.jsx)("p",{className:"text-text-secondary",children:"Annual Percentage Yield (APY)"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-white/10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-text-secondary",children:"Asset"}),(0,b.jsx)("p",{className:"font-semibold",children:y.asset||y.token||"USDC"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-text-secondary",children:"Risk Level"}),(0,b.jsx)("p",{className:`font-semibold ${L(y.risk)}`,children:y.risk||"Low"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-text-secondary",children:"Protocol"}),(0,b.jsx)("p",{className:"font-semibold",children:y.protocol})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-text-secondary",children:"Network"}),(0,b.jsx)("p",{className:"font-semibold",children:y.network||"Ethereum"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>F("deposit"),className:`flex-1 py-3 rounded-xl font-semibold transition-all ${"deposit"===E?"bg-accent-green text-black":"bg-background-hover text-text-secondary"}`,children:"Deposit"}),(0,b.jsx)("button",{onClick:()=>F("withdraw"),className:`flex-1 py-3 rounded-xl font-semibold transition-all ${"withdraw"===E?"bg-accent-red text-black":"bg-background-hover text-text-secondary"}`,children:"Withdraw"})]}),(0,b.jsx)("div",{className:"bg-accent-blue/10 border border-accent-blue/20 rounded-xl p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(g.Info,{className:"w-5 h-5 text-accent-blue flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm text-text-secondary",children:[(0,b.jsx)("p",{className:"text-accent-blue font-semibold mb-1",children:"How It Works"}),(0,b.jsxs)("p",{children:["Your deposit is allocated to ",x,"'s liquidity pool on"," ",y.network||"Ethereum",". Your funds earn interest automatically and you maintain full ownership. Withdraw anytime with no lock-up period."]})]})]})}),(0,b.jsxs)(p.default,{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-background-hover rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-text-secondary",children:"Available Balance"}),(0,b.jsx)("span",{className:"font-semibold",children:(0,s.formatCurrency)(v)})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm text-text-secondary mb-2",children:["Amount (",y.asset||y.token||"USDC",")"]}),(0,b.jsx)(q.default,{type:"number",value:C,onChange:a=>D(a.target.value),placeholder:"Enter amount",min:"0",step:"0.01"}),(0,b.jsx)("div",{className:"flex gap-2 mt-2",children:[25,50,75,100].map(a=>(0,b.jsxs)("button",{onClick:()=>D((v*a/100).toFixed(2)),className:"px-2.5 py-1 text-xs rounded-md bg-background-hover hover:bg-background-card text-text-secondary hover:text-white transition-all",children:[a,"%"]},a))})]}),"deposit"===E&&C&&(0,b.jsxs)("div",{className:"p-4 bg-accent-green/10 border border-accent-green/20 rounded-lg space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-accent-green",children:[(0,b.jsx)(i.TrendingUp,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Estimated Annual Earnings"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-accent-green",children:(0,s.formatCurrency)(K)}),(0,b.jsxs)("p",{className:"text-xs text-text-secondary",children:["Based on ",y.apy?.toFixed(2),"% APY"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-3 border-t border-b border-white/10",children:[(0,b.jsx)("span",{className:"text-text-secondary",children:"Available Balance"}),(0,b.jsx)("span",{className:"font-semibold",children:(0,s.formatCurrency)(v)})]}),"deposit"===E&&C&&parseFloat(C)>v&&(0,b.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-accent-red/10 border border-accent-red/20 rounded-lg",children:[(0,b.jsx)(g.Info,{className:"w-5 h-5 text-accent-red flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-accent-red font-medium",children:"Insufficient balance"}),(0,b.jsxs)("p",{className:"text-text-secondary mt-1",children:["You need"," ",(0,s.formatCurrency)(parseFloat(C)-v)," more to complete this deposit"]})]})]}),(0,b.jsx)(r.default,{variant:"deposit"===E?"primary":"secondary",className:`w-full ${"withdraw"===E?"bg-accent-red hover:bg-accent-red/90":""}`,onClick:J,disabled:G||!C||0>=parseFloat(C)||"deposit"===E&&parseFloat(C)>v,children:G?"Processing...":`${"deposit"===E?"Deposit":"Withdraw"}`})]}),(0,b.jsx)(p.default,{className:`p-4 border ${(a=>{switch(a?.toLowerCase()){case"low":return"bg-accent-green/10 border-accent-green/20";case"medium":return"bg-primary/10 border-primary/20";case"high":return"bg-accent-red/10 border-accent-red/20";default:return"bg-background-hover"}})(y.risk)}`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(h.Shield,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${L(y.risk)}`}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsxs)("p",{className:`font-semibold mb-1 ${L(y.risk)}`,children:[y.risk||"Low"," Risk"]}),(0,b.jsxs)("p",{className:"text-text-secondary",children:[y.risk?.toLowerCase()==="low"&&"This yield strategy uses well-established protocols with strong security track records.",y.risk?.toLowerCase()==="medium"&&"This yield strategy involves moderate risk. Consider diversifying your investments.",y.risk?.toLowerCase()==="high"&&"This is a high-risk yield strategy. Only invest what you can afford to lose."]})]})]})}),(0,b.jsx)(p.default,{className:"bg-background-hover p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(g.Info,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"text-sm",children:(0,b.jsxs)("p",{className:"text-text-secondary",children:["APY rates are variable and may change based on market conditions. Your funds will be deployed to the"," ",y.protocol," protocol on the"," ",y.network||"Ethereum"," network."]})})]})})]}),(0,b.jsx)(o.default,{})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=stacka-project_stacka_529e7e50._.js.map