{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/emmanuel/Documents/work_projects/stacka-project/stacka/lib/api/client.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosError } from 'axios';\nimport { toast } from 'react-hot-toast';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000';\n\nclass ApiClient {\n  private client: AxiosInstance;\n\n  constructor() {\n    this.client = axios.create({\n      baseURL: API_URL,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    // Request interceptor\n    this.client.interceptors.request.use(\n      (config) => {\n        const token = this.getToken();\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      },\n      (error) => Promise.reject(error)\n    );\n\n    // Response interceptor\n    this.client.interceptors.response.use(\n      (response) => response.data,\n      (error: AxiosError<any>) => {\n        const message = error.response?.data?.message || error.message || 'An error occurred';\n        \n        // Don't show toast for auth errors (401) or not found errors (404)\n        // 404s are expected for unimplemented endpoints\n        if (error.response?.status !== 401 && error.response?.status !== 404) {\n          toast.error(message);\n        }\n\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  private getToken(): string | null {\n    if (typeof window !== 'undefined') {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.warn('No authentication token found. Please login first.');\n      }\n      return token;\n    }\n    return null;\n  }\n  \n  public getBaseURL(): string {\n    return API_URL;\n  }\n\n  public setToken(token: string): void {\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('token', token);\n    }\n  }\n\n  public removeToken(): void {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('token');\n    }\n  }\n\n  // Auth endpoints\n  async signup(data: { email: string; password: string; firstName?: string; lastName?: string }) {\n    return this.client.post('/api/v1/auth/signup', data);\n  }\n\n  async login(data: { email: string; password: string }) {\n    return this.client.post('/api/v1/auth/login', data);\n  }\n\n  async getProfile() {\n    return this.client.get('/api/v1/auth/me');\n  }\n\n  // Wallet endpoints\n  async getDepositAddress() {\n    return this.client.get('/api/v1/wallet/deposit-address');\n  }\n\n  async getBalance() {\n    return this.client.get('/api/v1/wallet/balance');\n  }\n\n  async getExchangeRate() {\n    return this.client.get('/api/v1/wallet/exchange-rate');\n  }\n\n  // Portfolio endpoints\n  async getPortfolio() {\n    return this.client.get('/api/v1/portfolio');\n  }\n\n  async getHoldings(assetType?: string) {\n    return this.client.get('/api/v1/portfolio/holdings', {\n      params: { assetType },\n    });\n  }\n\n  async getPerformance(period: string = '30d') {\n    return this.client.get('/api/v1/portfolio/performance', {\n      params: { period },\n    });\n  }\n\n  // Transaction endpoints\n  async getTransactions(params?: {\n    page?: number;\n    limit?: number;\n    type?: string;\n    status?: string;\n  }) {\n    return this.client.get('/api/v1/transactions', { params });\n  }\n\n  async getTransactionStats() {\n    return this.client.get('/api/v1/transactions/stats');\n  }\n\n  // Withdrawal endpoints\n  async requestWithdrawal(data: {\n    amount: number;\n    currency: string;\n    destination: any;\n  }) {\n    return this.client.post('/api/v1/withdrawals', data);\n  }\n\n  async getWithdrawals(params?: { page?: number; limit?: number; status?: string }) {\n    return this.client.get('/api/v1/withdrawals', { params });\n  }\n\n  async getWithdrawalLimits() {\n    return this.client.get('/api/v1/withdrawals/limits');\n  }\n\n  async cancelWithdrawal(id: string) {\n    return this.client.post(`/api/v1/withdrawals/${id}/cancel`);\n  }\n\n  // Notifications\n  async getNotifications(params?: { page?: number; limit?: number; unreadOnly?: boolean }) {\n    return this.client.get('/api/v1/notifications', { params });\n  }\n\n  async markNotificationAsRead(id: string) {\n    return this.client.put(`/api/v1/notifications/${id}/read`);\n  }\n\n  async markAllNotificationsAsRead() {\n    return this.client.put('/api/v1/notifications/read-all');\n  }\n\n  // User profile\n  async updateProfile(data: { firstName?: string; lastName?: string; phone?: string }) {\n    return this.client.put('/api/v1/user/profile', data);\n  }\n\n  async changePassword(data: { currentPassword: string; newPassword: string }) {\n    return this.client.put('/api/v1/user/password', data);\n  }\n\n  // Nigerian Stocks (Chaka API)\n  async getNigerianStocks(params?: { search?: string; limit?: number }) {\n    return this.client.get('/api/v1/stocks/ngn', { params });\n  }\n\n  async getNigerianStockDetail(symbol: string) {\n    return this.client.get(`/api/v1/stocks/ngn/${symbol}`);\n  }\n\n  async tradeNigerianStock(data: {\n    symbol: string;\n    type: 'BUY' | 'SELL';\n    quantity: number;\n    price?: number;\n  }) {\n    return this.client.post('/api/v1/trade/stocks/ngn', data);\n  }\n\n  // US Stocks (Alpaca API)\n  async getUSStocks(params?: { search?: string; limit?: number }) {\n    return this.client.get('/api/v1/stocks/us', { params });\n  }\n\n  async getUSStockDetail(symbol: string) {\n    return this.client.get(`/api/v1/stocks/us/${symbol}`);\n  }\n\n  async tradeUSStock(data: {\n    symbol: string;\n    type: 'BUY' | 'SELL';\n    quantity: number;\n    price?: number;\n  }) {\n    return this.client.post('/api/v1/trade/stocks/us', data);\n  }\n\n  // Trading general\n  async getQuote(symbol: string) {\n    return this.client.get(`/api/v1/trade/quote/${symbol}`);\n  }\n\n  async getMarketData(params?: { assetType?: string }) {\n    return this.client.get('/api/v1/trading/market', { params });\n  }\n\n  async getOrderHistory(params?: { page?: number; limit?: number; status?: string }) {\n    return this.client.get('/api/v1/trading/orders', { params });\n  }\n\n  // DeFi Yield (Aave & Compound)\n  async getYieldOpportunities() {\n    return this.client.get('/api/v1/yield/opportunities');\n  }\n\n  async getYieldAPY(protocol?: string) {\n    return this.client.get('/api/v1/yield/apy', {\n      params: { protocol },\n    });\n  }\n\n  async getYieldEstimate(amount: number, protocol?: string) {\n    return this.client.get('/api/v1/yield/estimate', {\n      params: { amount, protocol },\n    });\n  }\n\n  async depositYield(data: {\n    provider: string; // 'aave', 'compound', 'moonwell'\n    amount: number;\n  }) {\n    return this.client.post('/api/v1/yield/deposit', data);\n  }\n\n  async withdrawYield(data: {\n    protocol: 'aave' | 'compound';\n    token: string;\n    amount: number;\n  }) {\n    return this.client.post('/api/v1/yield/withdraw', data);\n  }\n\n  async getYieldPositions() {\n    return this.client.get('/api/v1/yield/positions');\n  }\n\n  // Funding\n  async getFundingSources() {\n    return this.client.get('/api/v1/funds/sources');\n  }\n\n  async addFundingSource(data: {\n    type: 'bank' | 'card' | 'crypto';\n    details: any;\n  }) {\n    return this.client.post('/api/v1/funds/sources', data);\n  }\n\n  async depositFunds(data: {\n    sourceId: string;\n    amount: number;\n    currency: string;\n  }) {\n    return this.client.post('/api/v1/funds/deposit', data);\n  }\n\n  // Naira Deposits\n  async getNairaDepositAccount() {\n    return this.client.get('/api/v1/deposits/naira/account');\n  }\n\n  async getNairaDepositHistory(params?: { page?: number; limit?: number }) {\n    return this.client.get('/api/v1/deposits/naira/history', { params });\n  }\n\n  async confirmNairaDeposit(reference: string) {\n    return this.client.post('/api/v1/deposits/naira/confirm', { reference });\n  }\n\n  // Stats & Analytics\n  async getDashboardStats() {\n    return this.client.get('/api/v1/stats');\n  }\n\n  async getPortfolioAnalytics(period: string = '30d') {\n    return this.client.get('/api/v1/portfolio/analytics', {\n      params: { period },\n    });\n  }\n\n  // Test endpoints\n  async createTestAlpacaAccount() {\n    return this.client.post('/api/v1/test/create-alpaca-account');\n  }\n\n  async getAlpacaAccountStatus() {\n    return this.client.get('/api/v1/test/alpaca-account-status');\n  }\n}\n\nexport const apiClient = new ApiClient();\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///home/emmanuel/Documents/work_projects/stacka-project/stacka/store/authStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport { apiClient } from '@/lib/api/client';\nimport { toast } from 'react-hot-toast';\n\ninterface User {\n  id: string;\n  email: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  walletAddress?: string;\n  usdcBalance: number;\n  ngnBalance: number;\n  kycStatus: string;\n  alpacaAccount?: {\n    accountId: string | null;\n    accountNumber: string | null;\n    status: string | null;\n  };\n}\n\ninterface SignupData {\n  email: string;\n  password: string;\n  firstName: string;\n  lastName: string;\n}\n\ninterface AuthState {\n  user: User | null;\n  token: string | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  error: string | null;\n  \n  login: (email: string, password: string) => Promise<void>;\n  signup: (data: SignupData) => Promise<void>;\n  logout: () => void;\n  fetchProfile: () => Promise<void>;\n  updateUser: (user: Partial<User>) => void;\n  clearError: () => void;\n}\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set) => ({\n      user: null,\n      token: null,\n      isAuthenticated: false,\n      isLoading: false,\n      error: null,\n\n      login: async (email, password) => {\n        set({ isLoading: true, error: null });\n        try {\n          const response: any = await apiClient.login({ email, password });\n          \n          // Handle backend response structure\n          const { token, user } = response.data || response;\n          \n          if (!token || !user) {\n            throw new Error('Invalid response from server');\n          }\n          \n          apiClient.setToken(token);\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            isLoading: false,\n            error: null,\n          });\n        } catch (error: any) {\n          const errorMessage = error.response?.data?.message || error.message || 'Login failed';\n          set({ isLoading: false, error: errorMessage });\n          throw error;\n        }\n      },\n\n      signup: async (data: SignupData) => {\n        set({ isLoading: true, error: null });\n        try {\n          const response: any = await apiClient.signup(data);\n          \n          // Handle backend response structure\n          const { token, user } = response.data || response;\n          \n          if (!token || !user) {\n            throw new Error('Invalid response from server');\n          }\n          \n          apiClient.setToken(token);\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            isLoading: false,\n            error: null,\n          });\n        } catch (error: any) {\n          const errorMessage = error.response?.data?.message || error.message || 'Signup failed';\n          set({ isLoading: false, error: errorMessage });\n          throw error;\n        }\n      },\n\n      logout: () => {\n        apiClient.removeToken();\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false,\n          error: null,\n        });\n        toast.success('Logged out successfully');\n      },\n\n      fetchProfile: async () => {\n        try {\n          const response: any = await apiClient.getProfile();\n          const user = response.data || response;\n          set({ user });\n        } catch (error: any) {\n          console.error('Failed to fetch profile:', error);\n          // If fetching profile fails with 401, logout the user\n          if (error.response?.status === 401) {\n            apiClient.removeToken();\n            set({\n              user: null,\n              token: null,\n              isAuthenticated: false,\n            });\n          }\n        }\n      },\n\n      updateUser: (userData) => {\n        set((state) => ({\n          user: state.user ? { ...state.user, ...userData } : null,\n        }));\n      },\n\n      clearError: () => {\n        set({ error: null });\n      },\n    }),\n    {\n      name: 'auth-storage',\n      partialize: (state) => ({\n        user: state.user,\n        token: state.token,\n        isAuthenticated: state.isAuthenticated,\n      }),\n    }\n  )\n);\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAyCO,MAAM,eAAe,IAAA,oLAAM,IAChC,IAAA,0LAAO,EACL,CAAC,MAAQ,CAAC;QACR,MAAM;QACN,OAAO;QACP,iBAAiB;QACjB,WAAW;QACX,OAAO;QAEP,OAAO,OAAO,OAAO;YACnB,IAAI;gBAAE,WAAW;gBAAM,OAAO;YAAK;YACnC,IAAI;gBACF,MAAM,WAAgB,MAAM,mKAAS,CAAC,KAAK,CAAC;oBAAE;oBAAO;gBAAS;gBAE9D,oCAAoC;gBACpC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI,IAAI;gBAEzC,IAAI,CAAC,SAAS,CAAC,MAAM;oBACnB,MAAM,IAAI,MAAM;gBAClB;gBAEA,mKAAS,CAAC,QAAQ,CAAC;gBACnB,IAAI;oBACF;oBACA;oBACA,iBAAiB;oBACjB,WAAW;oBACX,OAAO;gBACT;YACF,EAAE,OAAO,OAAY;gBACnB,MAAM,eAAe,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;gBACvE,IAAI;oBAAE,WAAW;oBAAO,OAAO;gBAAa;gBAC5C,MAAM;YACR;QACF;QAEA,QAAQ,OAAO;YACb,IAAI;gBAAE,WAAW;gBAAM,OAAO;YAAK;YACnC,IAAI;gBACF,MAAM,WAAgB,MAAM,mKAAS,CAAC,MAAM,CAAC;gBAE7C,oCAAoC;gBACpC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI,IAAI;gBAEzC,IAAI,CAAC,SAAS,CAAC,MAAM;oBACnB,MAAM,IAAI,MAAM;gBAClB;gBAEA,mKAAS,CAAC,QAAQ,CAAC;gBACnB,IAAI;oBACF;oBACA;oBACA,iBAAiB;oBACjB,WAAW;oBACX,OAAO;gBACT;YACF,EAAE,OAAO,OAAY;gBACnB,MAAM,eAAe,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;gBACvE,IAAI;oBAAE,WAAW;oBAAO,OAAO;gBAAa;gBAC5C,MAAM;YACR;QACF;QAEA,QAAQ;YACN,mKAAS,CAAC,WAAW;YACrB,IAAI;gBACF,MAAM;gBACN,OAAO;gBACP,iBAAiB;gBACjB,OAAO;YACT;YACA,kMAAK,CAAC,OAAO,CAAC;QAChB;QAEA,cAAc;YACZ,IAAI;gBACF,MAAM,WAAgB,MAAM,mKAAS,CAAC,UAAU;gBAChD,MAAM,OAAO,SAAS,IAAI,IAAI;gBAC9B,IAAI;oBAAE;gBAAK;YACb,EAAE,OAAO,OAAY;gBACnB,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,sDAAsD;gBACtD,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;oBAClC,mKAAS,CAAC,WAAW;oBACrB,IAAI;wBACF,MAAM;wBACN,OAAO;wBACP,iBAAiB;oBACnB;gBACF;YACF;QACF;QAEA,YAAY,CAAC;YACX,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,GAAG;wBAAE,GAAG,MAAM,IAAI;wBAAE,GAAG,QAAQ;oBAAC,IAAI;gBACtD,CAAC;QACH;QAEA,YAAY;YACV,IAAI;gBAAE,OAAO;YAAK;QACpB;IACF,CAAC,GACD;IACE,MAAM;IACN,YAAY,CAAC,QAAU,CAAC;YACtB,MAAM,MAAM,IAAI;YAChB,OAAO,MAAM,KAAK;YAClB,iBAAiB,MAAM,eAAe;QACxC,CAAC;AACH","debugId":null}},
    {"offset": {"line": 401, "column": 0}, "map": {"version":3,"sources":["file:///home/emmanuel/Documents/work_projects/stacka-project/stacka/components/AuthInitializer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useAuthStore } from \"@/store/authStore\";\nimport { apiClient } from \"@/lib/api/client\";\n\n/**\n * This component initializes authentication on app load\n * It restores the token from localStorage to the API client\n */\nexport default function AuthInitializer() {\n  useEffect(() => {\n    // Get the persisted auth state\n    const token = useAuthStore.getState().token;\n\n    // If token exists, set it in the API client\n    if (token) {\n      apiClient.setToken(token);\n      console.log(\"✅ Auth token restored from storage\");\n    }\n  }, []);\n\n  return null; // This component doesn't render anything\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AAUe,SAAS;;IACtB,IAAA,yMAAS;qCAAC;YACR,+BAA+B;YAC/B,MAAM,QAAQ,oKAAY,CAAC,QAAQ,GAAG,KAAK;YAE3C,4CAA4C;YAC5C,IAAI,OAAO;gBACT,mKAAS,CAAC,QAAQ,CAAC;gBACnB,QAAQ,GAAG,CAAC;YACd;QACF;oCAAG,EAAE;IAEL,OAAO,MAAM,yCAAyC;AACxD;GAbwB;KAAA","debugId":null}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["file:///home/emmanuel/Documents/work_projects/stacka-project/stacka/components/PWAInstaller.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\n\nexport default function PWAInstaller() {\n  useEffect(() => {\n    if (\"serviceWorker\" in navigator) {\n      window.addEventListener(\"load\", () => {\n        navigator.serviceWorker\n          .register(\"/sw.js\")\n          .then((registration) => {\n            console.log(\"✅ Service Worker registered:\", registration);\n          })\n          .catch((error) => {\n            console.log(\"❌ Service Worker registration failed:\", error);\n          });\n      });\n    }\n  }, []);\n\n  return null;\n}\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIe,SAAS;;IACtB,IAAA,yMAAS;kCAAC;YACR,IAAI,mBAAmB,WAAW;gBAChC,OAAO,gBAAgB,CAAC;8CAAQ;wBAC9B,UAAU,aAAa,CACpB,QAAQ,CAAC,UACT,IAAI;sDAAC,CAAC;gCACL,QAAQ,GAAG,CAAC,gCAAgC;4BAC9C;qDACC,KAAK;sDAAC,CAAC;gCACN,QAAQ,GAAG,CAAC,yCAAyC;4BACvD;;oBACJ;;YACF;QACF;iCAAG,EAAE;IAEL,OAAO;AACT;GAjBwB;KAAA","debugId":null}}]
}