(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15588,e=>{"use strict";var a=e.i(49524);let t=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},r=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:i="",children:d,iconNode:c,...o},m)=>(0,a.createElement)("svg",{ref:m,...s,width:t,height:t,stroke:e,strokeWidth:l?24*Number(n)/Number(t):n,className:r("lucide",i),...!d&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(o)&&{"aria-hidden":"true"},...o},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(d)?d:[d]])),l=(e,s)=>{let l=(0,a.forwardRef)(({className:l,...i},d)=>(0,a.createElement)(n,{ref:d,iconNode:s,className:r(`lucide-${t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...i}));return l.displayName=t(e),l};e.s(["default",()=>l],15588)},36758,(e,a,t)=>{a.exports=e.r(90057)},6736,e=>{"use strict";let a=(0,e.i(15588).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],6736)},918,e=>{"use strict";let a=(0,e.i(15588).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>a],918)},43391,e=>{"use strict";var a=e.i(13567),t=e.i(49524),r=e.i(6736),s=e.i(15588);let n=(0,s.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),l=(0,s.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var i=e.i(918),d=e.i(36758);function c(){let e=(0,d.useRouter)(),[s,c]=(0,t.useState)(!1),[o,m]=(0,t.useState)(!1),[x,u]=(0,t.useState)(""),[p,h]=(0,t.useState)(""),[b,f]=(0,t.useState)(40),[j,y]=(0,t.useState)(30),[N,g]=(0,t.useState)(30),[v,w]=(0,t.useState)(30),[k,S]=(0,t.useState)(25),[M,A]=(0,t.useState)(45),[C,B]=(0,t.useState)(33),[P,F]=(0,t.useState)(67),[T,$]=(0,t.useState)(50),[E,L]=(0,t.useState)(50),O=b+j+N,U=v+k+M,D=C+P,R=T+E;(0,t.useEffect)(()=>{z()},[]);let z=async()=>{try{c(!0);let e=localStorage.getItem("token"),a=await fetch("http://localhost:4000/api/v1/allocation/preferences",{headers:{Authorization:`Bearer ${e}`}}),t=await a.json();if(t.success&&t.data.preference){let e=t.data.preference;f(e.nigerianPercent||0),y(e.defiPercent||0),g(e.usPercent||0),e.nigerianBreakdown&&(w(e.nigerianBreakdown.DANGOTE||0),S(e.nigerianBreakdown.MTN||0),A(e.nigerianBreakdown.ARM||0)),e.usBreakdown&&(B(e.usBreakdown.AAPL||0),F(e.usBreakdown.SPY||0)),e.defiBreakdown&&($(e.defiBreakdown.AAVE||0),L(e.defiBreakdown.COMPOUND||0))}}catch(e){console.error("Load preferences error:",e)}finally{c(!1)}},V=async()=>{if(u(""),h(""),Math.abs(O-100)>.01)return void u(`Total allocation must equal 100%. Current: ${O.toFixed(1)}%`);if(b>0&&Math.abs(U-100)>.01)return void u(`Nigerian stocks breakdown must equal 100%. Current: ${U.toFixed(1)}%`);if(N>0&&Math.abs(D-100)>.01)return void u(`US stocks breakdown must equal 100%. Current: ${D.toFixed(1)}%`);if(j>0&&Math.abs(R-100)>.01)return void u(`DeFi breakdown must equal 100%. Current: ${R.toFixed(1)}%`);try{m(!0);let a=localStorage.getItem("token"),t=await fetch("http://localhost:4000/api/v1/allocation/preferences",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({name:"My Smart Split",nigerianPercent:b,defiPercent:j,usPercent:N,nigerianBreakdown:{DANGOTE:v,MTN:k,ARM:M},usBreakdown:{AAPL:C,SPY:P},defiBreakdown:{AAVE:T,COMPOUND:E}})}),r=await t.json();r.success?(h("Smart Split preferences saved successfully! ðŸŽ‰"),setTimeout(()=>e.push("/dashboard"),2e3)):u(r.message||"Failed to save preferences")}catch(e){u(e.message||"Failed to save preferences")}finally{m(!1)}},H=async()=>{if(confirm("Are you sure you want to delete your Smart Split preferences?"))try{let e=localStorage.getItem("token"),a=await fetch("http://localhost:4000/api/v1/allocation/preferences",{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});(await a.json()).success&&(h("Preferences deleted"),f(40),y(30),g(30),w(30),S(25),A(45),B(33),F(67),$(50),L(50))}catch(e){u(e.message||"Failed to delete preferences")}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-background p-6 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-text-primary",children:"Loading..."})}):(0,a.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>e.back(),className:"p-2 hover:bg-surface-dark rounded-lg transition",children:(0,a.jsx)(r.ArrowLeft,{className:"w-5 h-5 text-text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-text-primary",children:"Smart Split"}),(0,a.jsx)("p",{className:"text-text-secondary text-sm",children:"Set your preferred allocation and invest with one click"})]})]}),(0,a.jsx)("button",{onClick:H,className:"p-2 hover:bg-red-500/10 rounded-lg transition text-red-500",children:(0,a.jsx)(l,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4 mb-6 flex gap-3",children:[(0,a.jsx)(i.Info,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm text-text-primary",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"How Smart Split Works"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Set your ideal allocation once. Every time you deposit funds, just tap \"Use Smart Split\" and we'll automatically invest across all your preferred assets in the exact ratios you've set."})]})]}),x&&(0,a.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 mb-6 text-red-500",children:x}),p&&(0,a.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4 mb-6 text-green-500",children:p}),(0,a.jsxs)("div",{className:"bg-surface rounded-xl p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-4",children:"Main Allocation"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary font-medium",children:"Nigerian Stocks"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[b,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:b,onChange:e=>f(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary font-medium",children:"DeFi Yields"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[j,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:j,onChange:e=>y(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary font-medium",children:"US Stocks"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[N,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:N,onChange:e=>g(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-border",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-text-primary font-semibold",children:"Total"}),(0,a.jsxs)("span",{className:`font-bold ${.01>Math.abs(O-100)?"text-green-500":"text-red-500"}`,children:[O.toFixed(1),"%"]})]})})]})]}),b>0&&(0,a.jsxs)("div",{className:"bg-surface rounded-xl p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-4",children:"Nigerian Stocks Breakdown"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary",children:"Dangote Cement"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[v,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:v,onChange:e=>w(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary",children:"MTN Nigeria"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[k,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:k,onChange:e=>S(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary",children:"ARM Money Market"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[M,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:M,onChange:e=>A(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-border",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-text-primary font-semibold",children:"Subtotal"}),(0,a.jsxs)("span",{className:`font-bold ${.01>Math.abs(U-100)?"text-green-500":"text-red-500"}`,children:[U.toFixed(1),"%"]})]})})]})]}),N>0&&(0,a.jsxs)("div",{className:"bg-surface rounded-xl p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-4",children:"US Stocks Breakdown"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary",children:"Apple (AAPL)"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[C,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:C,onChange:e=>B(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary",children:"S&P 500 ETF (SPY)"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[P,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:P,onChange:e=>F(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-border",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-text-primary font-semibold",children:"Subtotal"}),(0,a.jsxs)("span",{className:`font-bold ${.01>Math.abs(D-100)?"text-green-500":"text-red-500"}`,children:[D.toFixed(1),"%"]})]})})]})]}),j>0&&(0,a.jsxs)("div",{className:"bg-surface rounded-xl p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-4",children:"DeFi Yields Breakdown"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary",children:"Aave Protocol"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[T,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:T,onChange:e=>$(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-text-primary",children:"Compound Finance"}),(0,a.jsxs)("span",{className:"text-primary font-bold",children:[E,"%"]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:E,onChange:e=>L(Number(e.target.value)),className:"w-full h-2 bg-surface-dark rounded-lg appearance-none cursor-pointer accent-primary"})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-border",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-text-primary font-semibold",children:"Subtotal"}),(0,a.jsxs)("span",{className:`font-bold ${.01>Math.abs(R-100)?"text-green-500":"text-red-500"}`,children:[R.toFixed(1),"%"]})]})})]})]}),(0,a.jsxs)("button",{onClick:V,disabled:o||Math.abs(O-100)>.01,className:"w-full bg-primary hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-4 rounded-xl flex items-center justify-center gap-2 transition",children:[(0,a.jsx)(n,{className:"w-5 h-5"}),o?"Saving...":"Save Smart Split Preferences"]})]})})}e.s(["default",()=>c],43391)}]);